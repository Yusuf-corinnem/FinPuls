# Bank Module

ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ.

---

## ğŸ“‹ ĞĞ±Ğ·Ğ¾Ñ€

Bank Module - ÑÑ‚Ğ¾ **Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ** Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ²ÑĞµ Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (ÑÑ‡ĞµÑ‚Ğ°, ĞºĞ°Ñ€Ñ‚Ñ‹, Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸). ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ¸Ğ¼ĞµĞµÑ‚ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½ÑƒÑ Ğ‘Ğ”, ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ, Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸.

---

## ğŸ¯ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

1. **Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‡ĞµÑ‚Ğ°Ğ¼Ğ¸** - Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¾Ğ², Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ ÑÑ‡ĞµÑ‚Ğ°Ñ…
2. **Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ°Ğ¼Ğ¸** - Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ ĞºĞ°Ñ€Ñ‚Ğ°Ñ…
3. **Ğ¢Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸** - Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ² Ğ¼ĞµĞ¶Ğ´Ñƒ ÑÑ‡ĞµÑ‚Ğ°Ğ¼Ğ¸
4. **Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ** - Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ Ğ¾Ñ‚ Backend Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ²

```
com.finpuls.bank/
â”œâ”€â”€ config/                      # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ)
â”‚   â”œâ”€â”€ PersistenceConfig.java   # PostgreSQL ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ BankLoggingConfig.java   # Ğ¡Ğ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ BankMetricsConfig.java  # Ğ¡Ğ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
â”‚   â””â”€â”€ SwaggerConfig.java
â”‚
â”œâ”€â”€ domain/                      # Ğ”Ğ¾Ğ¼ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ
â”‚   â”œâ”€â”€ model/                   # JPA Entities
â”‚   â”‚   â”œâ”€â”€ account/
â”‚   â”‚   â”‚   â””â”€â”€ Account.java
â”‚   â”‚   â”œâ”€â”€ card/
â”‚   â”‚   â”‚   â””â”€â”€ Card.java
â”‚   â”‚   â””â”€â”€ transaction/
â”‚   â”‚       â””â”€â”€ Transaction.java
â”‚   â”œâ”€â”€ repository/              # JPA Repositories
â”‚   â”‚   â”œâ”€â”€ AccountRepository.java
â”‚   â”‚   â”œâ”€â”€ CardRepository.java
â”‚   â”‚   â””â”€â”€ TransactionRepository.java
â”‚   â””â”€â”€ dto/                     # Data Transfer Objects
â”‚       â”œâ”€â”€ request/
â”‚       â”‚   â”œâ”€â”€ GetBalanceRequest.java
â”‚       â”‚   â”œâ”€â”€ GetCardsRequest.java
â”‚       â”‚   â”œâ”€â”€ GetAccountsRequest.java
â”‚       â”‚   â””â”€â”€ TransferRequest.java
â”‚       â””â”€â”€ response/
â”‚           â”œâ”€â”€ BalanceDTO.java
â”‚           â”œâ”€â”€ CardDTO.java
â”‚           â”œâ”€â”€ AccountDTO.java
â”‚           â””â”€â”€ TransferResponse.java
â”‚
â”œâ”€â”€ service/                     # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”œâ”€â”€ account/
â”‚   â”‚   â”œâ”€â”€ IAccountService.java
â”‚   â”‚   â””â”€â”€ AccountService.java
â”‚   â”œâ”€â”€ card/
â”‚   â”‚   â”œâ”€â”€ ICardService.java
â”‚   â”‚   â””â”€â”€ CardService.java
â”‚   â””â”€â”€ transfer/
â”‚       â”œâ”€â”€ ITransferService.java
â”‚       â””â”€â”€ TransferService.java
â”‚
â”œâ”€â”€ api/                         # REST API
â”‚   â”œâ”€â”€ router/                  # Router Functions (WebFlux)
â”‚   â”‚   â”œâ”€â”€ BankRouter.java      # ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ¾ÑƒÑ‚Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ BalanceRouter.java
â”‚   â”‚   â”œâ”€â”€ CardRouter.java
â”‚   â”‚   â”œâ”€â”€ AccountRouter.java
â”‚   â”‚   â””â”€â”€ TransferRouter.java
â”‚   â””â”€â”€ handler/                 # Request Handlers
â”‚       â”œâ”€â”€ BalanceHandler.java
â”‚       â”œâ”€â”€ CardHandler.java
â”‚       â”œâ”€â”€ AccountHandler.java
â”‚       â””â”€â”€ TransferHandler.java
â”‚
â””â”€â”€ exception/                   # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
    â””â”€â”€ BankExceptionHandler.java
```

---

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### PostgreSQL (Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ°Ñ Ğ‘Ğ”)
- **accounts** - Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğµ ÑÑ‡ĞµÑ‚Ğ°
- **cards** - Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğµ ĞºĞ°Ñ€Ñ‚Ñ‹
- **transactions** - Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸

**ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ:** [Ğ¡ÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸ Bank Module](../entities/bank-module.md)

---

## ğŸ”Œ API Endpoints

### Ğ‘Ğ°Ğ»Ğ°Ğ½ÑÑ‹
- `GET /api/bank/balances` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ±Ğ°Ğ»Ğ°Ğ½ÑÑ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

### ĞšĞ°Ñ€Ñ‚Ñ‹
- `GET /api/bank/cards` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

### Ğ¡Ñ‡ĞµÑ‚Ğ°
- `GET /api/bank/accounts` - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑÑ‡ĞµÑ‚Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

### ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹
- `POST /api/bank/transfer` - Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑÑ‡ĞµÑ‚Ğ°Ğ¼Ğ¸

---

## ğŸ”’ Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ

### Ğ¡Ğ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- `application-bank.properties` - Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
- `PersistenceConfig` - Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº Ğ‘Ğ”

### Ğ¡Ğ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- `logback-bank.xml` - Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- Ğ›Ğ¾Ğ³Ğ¸ Ğ² `logs/bank-combined.log` Ğ¸ `logs/bank-error.log`

### Ğ¡Ğ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
- ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Prometheus Ğ´Ğ»Ñ Bank Module
- ĞŸÑ€ĞµÑ„Ğ¸ĞºÑ `bank_` Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº

---

## ğŸš€ Router Functions

Bank Module Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Spring WebFlux Router Functions Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ API:

```java
@Configuration
public class BankRouter {
    public static RouterFunction<ServerResponse> createRouter() {
        return RouterFunctions.route()
            .GET("/api/bank/balances", balanceHandler::getBalances)
            .GET("/api/bank/cards", cardHandler::getCards)
            .GET("/api/bank/accounts", accountHandler::getAccounts)
            .POST("/api/bank/transfer", transferHandler::transfer)
            .build();
    }
}
```

---

## ğŸ”— Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Backend

Bank Module Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¸Ğ· Backend Ñ‡ĞµÑ€ĞµĞ· `BankRouterConfig`:

```java
@Configuration
public class BankRouterConfig {
    @Bean
    public RouterFunction<ServerResponse> bankRouter() {
        return BankRouter.createRouter();
    }
}
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Ğ­Ñ‚Ğ¾ ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ Backend Ğ¸ Bank Module!

---

## ğŸ“ˆ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑƒ

Bank Module ÑĞ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ñ‚Ğ°Ğº, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ»ĞµĞ³ĞºĞ¾ Ğ²Ñ‹Ğ½ĞµÑÑ‚Ğ¸ ĞµĞ³Ğ¾ Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸Ñ:

1. Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Router Functions Ğ½Ğ° REST ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹
2. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ² Backend Ğ´Ğ»Ñ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ° Bank Service
3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€Ñ‚ Ğ¸ URL
4. Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

---

## ğŸ“š Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

- [Ğ¡ÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸ Bank Module](../entities/bank-module.md) - Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Entity ĞºĞ»Ğ°ÑÑĞ¾Ğ²
- [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](../ARCHITECTURE.md) - Ğ¾Ğ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
- [Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ](../guides/development.md) - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

---

**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 2025-01-20

