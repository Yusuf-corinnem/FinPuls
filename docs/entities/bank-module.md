# –°—É—â–Ω–æ—Å—Ç–∏ –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è

–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö Entity –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è.

---

## üìã –°–ø–∏—Å–æ–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π

1. **Client** - –ö–ª–∏–µ–Ω—Ç –±–∞–Ω–∫–∞
2. **Account** (–°—á–µ—Ç) - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç
3. **Card** - –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞
4. **Transaction** - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è

---

## 1. Client (–ö–ª–∏–µ–Ω—Ç –±–∞–Ω–∫–∞)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö –±–∞–Ω–∫–∞. –≠—Ç–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤ –±–∞–Ω–∫–æ–≤—Å–∫–æ–º –º–æ–¥—É–ª–µ, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ Backend –º–æ–¥—É–ª—è.

**–í–∞–∂–Ω–æ:** Backend —Ö—Ä–∞–Ω–∏—Ç `bank_client_id` –≤ —Ç–∞–±–ª–∏—Ü–µ `users`, –Ω–æ Bank Module –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ Backend. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é –º–æ–¥—É–ª–µ–π.

### –ü–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ |
|------|-----|----------|---------------|------------|
| `id` | `Long` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á | ‚úÖ | ‚úÖ |
| `firstName` | `String` | –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ | ‚úÖ | ‚ùå |
| `lastName` | `String` | –§–∞–º–∏–ª–∏—è –∫–ª–∏–µ–Ω—Ç–∞ | ‚úÖ | ‚ùå |
| `middleName` | `String` | –û—Ç—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–∞ | ‚ùå | ‚ùå |
| `email` | `String` | Email –∞–¥—Ä–µ—Å | ‚ùå | ‚ùå |
| `phone` | `String` | –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä | ‚ùå | ‚ùå |
| `passportNumber` | `String` | –ù–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞ | ‚ùå | ‚ùå |
| `isActive` | `Boolean` | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –∫–ª–∏–µ–Ω—Ç | ‚úÖ | ‚ùå |
| `createdAt` | `LocalDateTime` | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ | ‚ùå |
| `updatedAt` | `LocalDateTime` | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚ùå | ‚ùå |

### –°–≤—è–∑–∏
- **OneToMany** —Å `Account` - –æ–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—á–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π

```java
firstName: "Ivan"
lastName: "Ivanov"
middleName: "Petrovich"
email: "ivan@example.com"
phone: "+79991234567"
passportNumber: "1234 567890"
isActive: true
createdAt: 2025-01-20T10:00:00
```

### –ò–Ω–¥–µ–∫—Å—ã
- `email` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `phone` - –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- `passport_number` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### SQL —Å—Ö–µ–º–∞

```sql
CREATE TABLE clients (
    id BIGSERIAL PRIMARY KEY,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    middle_name VARCHAR(100),
    email VARCHAR(255),
    phone VARCHAR(20),
    passport_number VARCHAR(20),
    is_active BOOLEAN NOT NULL DEFAULT true,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE (email),
    UNIQUE (passport_number)
);
```

### –ò–∑–æ–ª—è—Ü–∏—è –æ—Ç Backend
- Bank Module **–Ω–µ –∑–Ω–∞–µ—Ç** –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ Backend –º–æ–¥—É–ª—è
- Backend —Ö—Ä–∞–Ω–∏—Ç `bank_client_id` –≤ —Ç–∞–±–ª–∏—Ü–µ `users` –¥–ª—è —Å–≤—è–∑–∏
- –°–≤—è–∑—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ID, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π

---

## 2. Account (–°—á–µ—Ç - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± **–æ–¥–Ω–æ–º –±–∞–Ω–∫–æ–≤—Å–∫–æ–º —Å—á–µ—Ç–µ**. 

**–í–∞–∂–Ω–æ:** –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—á–µ—Ç–æ–≤** (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π Account —Å –æ–¥–Ω–∏–º `userId`). –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å Account –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å—á–µ—Ç —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º.

### –ü–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ |
|------|-----|----------|---------------|------------|
| `id` | `Long` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á | ‚úÖ | ‚úÖ |
| `accountNumber` | `String` | –ù–æ–º–µ—Ä —Å—á–µ—Ç–∞ (20 —Ü–∏—Ñ—Ä) | ‚úÖ | ‚úÖ |
| `balance` | `BigDecimal` | –ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞ | ‚úÖ | ‚ùå |
| `currency` | `String` | –í–∞–ª—é—Ç–∞ (RUB, USD, EUR) | ‚úÖ | ‚ùå |
| `clientId` | `Long` | ID –∫–ª–∏–µ–Ω—Ç–∞ –±–∞–Ω–∫–∞ | ‚úÖ | ‚ùå |
| `accountType` | `String` | –¢–∏–ø —Å—á–µ—Ç–∞ (CHECKING, SAVINGS, DEPOSIT) | ‚ùå | ‚ùå |
| `isActive` | `Boolean` | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —Å—á–µ—Ç | ‚úÖ | ‚ùå |
| `createdAt` | `LocalDateTime` | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ | ‚ùå |
| `updatedAt` | `LocalDateTime` | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚ùå | ‚ùå |

### –°–≤—è–∑–∏
- **ManyToOne** —Å `Client` - —Å—á–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–¥–Ω–æ–º—É –∫–ª–∏–µ–Ω—Ç—É –±–∞–Ω–∫–∞
- **OneToMany** —Å `Card` - –æ–¥–∏–Ω —Å—á–µ—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç
- **OneToMany** —Å `Transaction` (–∫–∞–∫ fromAccount –∏ toAccount)

### –û—Ç–Ω–æ—à–µ–Ω–∏–µ Client ‚Üî Account
- **–û–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç** ‚Üí **–ú–Ω–æ–≥–æ —Å—á–µ—Ç–æ–≤** (One Client ‚Üí Many Accounts)
- –°–≤—è–∑—å —á–µ—Ä–µ–∑ –ø–æ–ª–µ `clientId` (FK –∫ —Ç–∞–±–ª–∏—Ü–µ `clients`)
- –ü—Ä–∏–º–µ—Ä: –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç (CHECKING), —Å–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç (SAVINGS) –∏ –¥–µ–ø–æ–∑–∏—Ç (DEPOSIT)

### –°–≤—è–∑—å —Å Backend
- Backend —Ö—Ä–∞–Ω–∏—Ç —Å–≤—è–∑–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `user_bank_clients` –¥–ª—è —Å–≤—è–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –±–∞–Ω–∫–æ–≤
- Bank Module **–Ω–µ –∑–Ω–∞–µ—Ç** –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ Backend - –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è
- –°–≤—è–∑—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ID: `UserBankClient.bank_client_id` ‚Üí `Client.id`

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∞–Ω–∫–æ–≤
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ú–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –±–∞–Ω–∫–∞—Ö

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
1. –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ Bank Module (vbank, abank, sbank)
2. –í Backend —Ç–∞–±–ª–∏—Ü–∞ `user_bank_clients` —Å–≤—è–∑—ã–≤–∞–µ—Ç User —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ Client –∏–∑ —Ä–∞–∑–Ω—ã—Ö –±–∞–Ω–∫–æ–≤
3. –ö–∞–∂–¥—ã–π Bank Module –æ—Å—Ç–∞–µ—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –Ω–µ –∑–Ω–∞–µ—Ç –æ –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–∞—Ö
4. –ü–æ–ª–µ `bankName` –≤ `user_bank_clients` –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –±–∞–Ω–∫

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–º–µ—Ç—å —Å—á–µ—Ç–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∞–Ω–∫–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø—Ä–∏ —ç—Ç–æ–º –∫–∞–∂–¥—ã–π Bank Module –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º.

### –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π

```java
accountNumber: "40817810099910004312"
balance: 50000.00
currency: "RUB"
accountType: "CHECKING"
isActive: true
```

### –ò–Ω–¥–µ–∫—Å—ã
- `account_number` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
- `client_id` - –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç—É (FK)

### SQL —Å—Ö–µ–º–∞

```sql
CREATE TABLE accounts (  -- —Ç–∞–±–ª–∏—Ü–∞ "—Å—á–µ—Ç–∞"
    id BIGSERIAL PRIMARY KEY,
    account_number VARCHAR(20) NOT NULL UNIQUE,
    balance DECIMAL(19, 2) NOT NULL,
    currency VARCHAR(3) NOT NULL,
    client_id BIGINT NOT NULL,
    account_type VARCHAR(20),
    is_active BOOLEAN NOT NULL DEFAULT true,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (client_id) REFERENCES clients(id) ON DELETE CASCADE,
    INDEX idx_account_number (account_number),
    INDEX idx_client_id (client_id)
);
```

---

## 3. Card (–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∫ —Å—á–µ—Ç–∞–º.

### –ü–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ |
|------|-----|----------|---------------|------------|
| `id` | `Long` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á | ‚úÖ | ‚úÖ |
| `cardNumber` | `String` | –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã (16 —Ü–∏—Ñ—Ä) | ‚úÖ | ‚úÖ |
| `cardType` | `String` | –¢–∏–ø –∫–∞—Ä—Ç—ã (DEBIT, CREDIT, PREPAID) | ‚úÖ | ‚ùå |
| `cardHolderName` | `String` | –ò–º—è –¥–µ—Ä–∂–∞—Ç–µ–ª—è –∫–∞—Ä—Ç—ã | ‚úÖ | ‚ùå |
| `expiryDate` | `LocalDate` | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (MM/YY) | ‚úÖ | ‚ùå |
| `cvv` | `String` | CVV –∫–æ–¥ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω) | ‚úÖ | ‚ùå |
| `accountId` | `Long` | ID —Å—á–µ—Ç–∞ | ‚úÖ | ‚ùå |
| `isActive` | `Boolean` | –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–∞—Ä—Ç–∞ | ‚úÖ | ‚ùå |
| `isBlocked` | `Boolean` | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ª–∏ –∫–∞—Ä—Ç–∞ | ‚úÖ | ‚ùå |
| `dailyLimit` | `BigDecimal` | –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç | ‚ùå | ‚ùå |
| `createdAt` | `LocalDateTime` | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ | ‚ùå |
| `updatedAt` | `LocalDateTime` | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚ùå | ‚ùå |

### –°–≤—è–∑–∏
- **ManyToOne** —Å `Account` - –∫–∞—Ä—Ç–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–¥–Ω–æ–º—É —Å—á–µ—Ç—É

### –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π

```java
cardNumber: "4111111111111111"  // –í –ë–î —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è
cardType: "DEBIT"
cardHolderName: "IVAN IVANOV"
expiryDate: 2025-12-31
cvv: "***"  // –í –ë–î —Ö—Ä–∞–Ω–∏—Ç—Å—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º
isActive: true
isBlocked: false
dailyLimit: 100000.00
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **CVV** –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (–Ω–µ plain text!)
- **cardNumber** –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –¥–æ–ª–∂–µ–Ω –º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `**** **** **** 1111`)

### –ò–Ω–¥–µ–∫—Å—ã
- `card_number` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
- `account_id` - –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Å—á–µ—Ç—É

---

## 4. Transaction (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö (–ø–µ—Ä–µ–≤–æ–¥–∞—Ö, –ø–ª–∞—Ç–µ–∂–∞—Ö, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è—Ö).

### –ü–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ |
|------|-----|----------|---------------|------------|
| `id` | `Long` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á | ‚úÖ | ‚úÖ |
| `transactionNumber` | `String` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | ‚úÖ | ‚úÖ |
| `fromAccountId` | `Long` | ID —Å—á–µ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è | ‚ùå | ‚ùå |
| `toAccountId` | `Long` | ID —Å—á–µ—Ç–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è | ‚ùå | ‚ùå |
| `amount` | `BigDecimal` | –°—É–º–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | ‚úÖ | ‚ùå |
| `currency` | `String` | –í–∞–ª—é—Ç–∞ (RUB, USD, EUR) | ‚úÖ | ‚ùå |
| `type` | `TransactionType` | –¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | ‚úÖ | ‚ùå |
| `status` | `TransactionStatus` | –°—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | ‚úÖ | ‚ùå |
| `description` | `String` | –û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | ‚ùå | ‚ùå |
| `fee` | `BigDecimal` | –ö–æ–º–∏—Å—Å–∏—è | ‚ùå | ‚ùå |
| `executedAt` | `LocalDateTime` | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | ‚ùå | ‚ùå |
| `createdAt` | `LocalDateTime` | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ | ‚ùå |
| `updatedAt` | `LocalDateTime` | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚ùå | ‚ùå |

### Enums

#### TransactionType
```java
public enum TransactionType {
    TRANSFER,      // –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
    DEPOSIT,       // –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
    WITHDRAWAL,    // –°–Ω—è—Ç–∏–µ
    PAYMENT,       // –ü–ª–∞—Ç–µ–∂
    REFUND         // –í–æ–∑–≤—Ä–∞—Ç
}
```

#### TransactionStatus
```java
public enum TransactionStatus {
    PENDING,       // –í –æ–∂–∏–¥–∞–Ω–∏–∏
    COMPLETED,     // –ó–∞–≤–µ—Ä—à–µ–Ω–∞
    FAILED,        // –ù–µ —É–¥–∞–ª–∞—Å—å
    CANCELLED      // –û—Ç–º–µ–Ω–µ–Ω–∞
}
```

### –°–≤—è–∑–∏
- **ManyToOne** —Å `Account` (fromAccount) - —Å—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- **ManyToOne** —Å `Account` (toAccount) - —Å—á–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è

### –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π

```java
transactionNumber: "TXN-2025-01-20-001234"
fromAccountId: 1
toAccountId: 2
amount: 1000.00
currency: "RUB"
type: TRANSFER
status: COMPLETED
description: "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Å—á–µ—Ç –¥—Ä—É–≥–∞"
fee: 0.00
executedAt: 2025-01-20T14:30:00
```

### –õ–æ–≥–∏–∫–∞ –ø–æ–ª–µ–π
- **fromAccountId** –º–æ–∂–µ—Ç –±—ã—Ç—å `null` –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π (DEPOSIT)
- **toAccountId** –º–æ–∂–µ—Ç –±—ã—Ç—å `null` –¥–ª—è —Å–Ω—è—Ç–∏–π (WITHDRAWAL)
- **executedAt** –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å—Ç–∞—Ç—É—Å COMPLETED

### –ò–Ω–¥–µ–∫—Å—ã
- `transaction_number` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
- `from_account_id` - –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `to_account_id` - –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `created_at` - –∏–Ω–¥–µ–∫—Å –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–∞—Ç–µ
- `status` - –∏–Ω–¥–µ–∫—Å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É

---

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏

```
Client (1) ‚îÄ‚îÄ< (Many) Account
Account (1) ‚îÄ‚îÄ< (Many) Card
Account (1) ‚îÄ‚îÄ< (Many) Transaction (fromAccount)
Account (1) ‚îÄ‚îÄ< (Many) Transaction (toAccount)

Backend: UserBankClient.bank_client_id ‚Üí Bank Module: Client.id (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ID, –±–µ–∑ FK)
```

### –î–∏–∞–≥—Ä–∞–º–º–∞ —Å–≤—è–∑–µ–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    BACKEND MODULE                       ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                        ‚îÇ
‚îÇ  ‚îÇ    User     ‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ  - id       ‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ  - username ‚îÇ                                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                        ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ 1                                             ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ Many                                          ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                           ‚îÇ
‚îÇ  ‚îÇ  UserBankClient         ‚îÇ                           ‚îÇ
‚îÇ  ‚îÇ                         ‚îÇ                           ‚îÇ
‚îÇ  ‚îÇ  - userId (FK)          ‚îÇ                           ‚îÇ
‚îÇ  ‚îÇ  - bankClientId         ‚îÇ                           ‚îÇ
‚îÇ  ‚îÇ  - bankName             ‚îÇ                           ‚îÇ
‚îÇ  ‚îÇ  - isPrimary            ‚îÇ                           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ (—Ç–æ–ª—å–∫–æ ID, –Ω–µ FK)                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    BANK MODULE                           ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                        ‚îÇ
‚îÇ  ‚îÇ   Client    ‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ  - id       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  ‚îÇ  - firstName‚îÇ                                        ‚îÇ
‚îÇ  ‚îÇ  - lastName ‚îÇ                                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                        ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ 1                                             ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ Many                                          ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                               ‚îÇ
‚îÇ  ‚îÇ   Account (–°—á–µ—Ç)    ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ                     ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - id               ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - accountNumber    ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - balance          ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - clientId (FK)    ‚îÇ                               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                               ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ 1                                             ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ Many                                          ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                       ‚îÇ
‚îÇ  ‚îÇ    Card     ‚îÇ                                       ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ                                       ‚îÇ
‚îÇ  ‚îÇ  - id       ‚îÇ                                       ‚îÇ
‚îÇ  ‚îÇ  - accountId‚îÇ                                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                       ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                       ‚îÇ
‚îÇ  ‚îÇ   Account   ‚îÇ                                       ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ                                       ‚îÇ
‚îÇ  ‚îÇ  - id       ‚îÇ                                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                       ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ 1                                             ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ         ‚îÇ Many                                          ‚îÇ
‚îÇ         ‚îÇ                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                               ‚îÇ
‚îÇ  ‚îÇ   Transaction       ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ                     ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - id               ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - fromAccountId    ‚îÇ                               ‚îÇ
‚îÇ  ‚îÇ  - toAccountId      ‚îÇ                               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–º–µ—Ä—ã —Å–≤—è–∑–µ–π

**Backend ‚Üí Bank Module (—á–µ—Ä–µ–∑ ID, –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–Ω–∫–æ–≤):**
```
Backend:
  User (id=1, username="ivan")
    ‚îú‚îÄ‚îÄ UserBankClient (id=1, userId=1, bankClientId=100, bankName="vbank", isPrimary=true)
    ‚îú‚îÄ‚îÄ UserBankClient (id=2, userId=1, bankClientId=200, bankName="abank", isPrimary=false)
    ‚îî‚îÄ‚îÄ UserBankClient (id=3, userId=1, bankClientId=300, bankName="sbank", isPrimary=false)

Bank Module (vbank):
  Client (id=100, firstName="Ivan", lastName="Ivanov")
    ‚îú‚îÄ‚îÄ Account (id=1, accountNumber="4081...", accountType="CHECKING", clientId=100)
    ‚îú‚îÄ‚îÄ Account (id=2, accountNumber="4082...", accountType="SAVINGS", clientId=100)
    ‚îî‚îÄ‚îÄ Account (id=3, accountNumber="4083...", accountType="DEPOSIT", clientId=100)

Bank Module (abank):
  Client (id=200, firstName="Ivan", lastName="Ivanov")
    ‚îú‚îÄ‚îÄ Account (id=10, accountNumber="4081...", accountType="CHECKING", clientId=200)
    ‚îî‚îÄ‚îÄ Account (id=11, accountNumber="4082...", accountType="SAVINGS", clientId=200)

Bank Module (sbank):
  Client (id=300, firstName="Ivan", lastName="Ivanov")
    ‚îî‚îÄ‚îÄ Account (id=20, accountNumber="4081...", accountType="CHECKING", clientId=300)
```

**–û–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç ‚Üí –ú–Ω–æ–≥–æ —Å—á–µ—Ç–æ–≤:**
```
Client (id=100, firstName="Ivan")
  ‚îú‚îÄ‚îÄ Account (id=1, accountNumber="4081...", accountType="CHECKING", clientId=100)
  ‚îú‚îÄ‚îÄ Account (id=2, accountNumber="4082...", accountType="SAVINGS", clientId=100)
  ‚îî‚îÄ‚îÄ Account (id=3, accountNumber="4083...", accountType="DEPOSIT", clientId=100)
```

**–û–¥–∏–Ω —Å—á–µ—Ç ‚Üí –ú–Ω–æ–≥–æ –∫–∞—Ä—Ç:**
```
Account (id=1, accountNumber="4081...")
  ‚îú‚îÄ‚îÄ Card (id=1, cardNumber="4111...", accountId=1)
  ‚îú‚îÄ‚îÄ Card (id=2, cardNumber="4112...", accountId=1)
  ‚îî‚îÄ‚îÄ Card (id=3, cardNumber="4113...", accountId=1)
```

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ò–∑–æ–ª—è—Ü–∏—è –º–æ–¥—É–ª–µ–π
- **Client** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤ Bank Module, –Ω–µ –∑–Ω–∞–µ—Ç –æ Backend
- **User.bank_client_id** –≤ Backend - —Å–≤—è–∑—å —Å –∫–ª–∏–µ–Ω—Ç–æ–º –±–∞–Ω–∫–∞ (—Ç–æ–ª—å–∫–æ ID, –±–µ–∑ FK)
- Bank Module **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω** –æ—Ç Backend - –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ User
- –°–≤—è–∑—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ID: `User.bank_client_id` ‚Üí `Client.id`
- `Account.clientId` - —ç—Ç–æ **–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á** (FK) –∫ —Ç–∞–±–ª–∏—Ü–µ `clients` –≤ Bank Module

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- **CVV** –∫–∞—Ä—Ç—ã –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ**
- **cardNumber** –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –¥–æ–ª–∂–µ–Ω **–º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `**** **** **** 1111`)
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç –∏–ª–∏ CVV

### 3. –¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –î–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º (`balance`, `amount`, `fee`) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **BigDecimal**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `double` –∏–ª–∏ `float` –¥–ª—è –¥–µ–Ω–µ–≥!

### 4. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
- `accountNumber` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
- `cardNumber` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
- `transactionNumber` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º

### 5. –ò–Ω–¥–µ–∫—Å—ã
- –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ `clientId`, `accountId`, `status`, `createdAt`

---

## üöÄ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)

### Client
- `birthDate` - –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
- `address` - –∞–¥—Ä–µ—Å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è
- `taxId` - –ò–ù–ù
- `registrationDate` - –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –±–∞–Ω–∫–µ
- `lastContactDate` - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞

### Account
- `bankName` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞
- `iban` - –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞
- `bic` - –±–∞–Ω–∫–æ–≤—Å–∫–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥
- `openedAt` - –¥–∞—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—á–µ—Ç–∞

### Card
- `pinHash` - —Ö—ç—à PIN-–∫–æ–¥–∞ (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- `cardBrand` - –±—Ä–µ–Ω–¥ –∫–∞—Ä—Ç—ã (VISA, MASTERCARD, MIR)
- `cardLevel` - —É—Ä–æ–≤–µ–Ω—å –∫–∞—Ä—Ç—ã (CLASSIC, GOLD, PLATINUM)
- `issuedAt` - –¥–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞ –∫–∞—Ä—Ç—ã

### Transaction
- `referenceNumber` - —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π –Ω–æ–º–µ—Ä
- `merchantName` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä—á–∞–Ω—Ç–∞
- `category` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `location` - –º–µ—Å—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `deviceInfo` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ ID
```java
Optional<Client> client = clientRepository.findById(clientId);
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞
```java
// –û–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—á–µ—Ç–æ–≤
List<Account> accounts = accountRepository.findByClientId(clientId);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [Account(4081..., CHECKING), Account(4082..., SAVINGS), Account(4083..., DEPOSIT)]
```

### –ü–æ–ª—É—á–∏—Ç—å —Å—á–µ—Ç –ø–æ –Ω–æ–º–µ—Ä—É
```java
Optional<Account> account = accountRepository.findByAccountNumber(accountNumber);
```

### –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```java
List<Account> activeAccounts = accountRepository.findByUserIdAndIsActiveTrue(userId);
```

### –ü–æ–ª—É—á–∏—Ç—å —Å—á–µ—Ç –ø–æ –Ω–æ–º–µ—Ä—É
```java
Optional<Account> account = accountRepository.findByAccountNumber(accountNumber);
```

### –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```java
List<Account> activeAccounts = accountRepository.findByUserIdAndIsActiveTrue(userId);
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ä—Ç—ã —Å—á–µ—Ç–∞
```java
List<Card> cards = cardRepository.findByAccountId(accountId);
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å—á–µ—Ç–∞
```java
List<Transaction> transactions = transactionRepository.findByFromAccountIdOrToAccountId(accountId, accountId);
```

### –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
```java
List<Transaction> pendingTransactions = transactionRepository.findByStatus(TransactionStatus.PENDING);
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è Entity

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º Entity —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ–º–µ—á–µ–Ω—ã `nullable = false`
- [ ] –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ–º–µ—á–µ–Ω—ã `unique = true`
- [ ] –î–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `BigDecimal`
- [ ] –î–ª—è –¥–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LocalDateTime` –∏–ª–∏ `LocalDate`
- [ ] –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö
- [ ] Enum –∫–ª–∞—Å—Å—ã —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è —Ç–∏–ø–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- [ ] –ú–µ—Ç–æ–¥—ã `equals()` –∏ `hashCode()` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-20

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- [ARCHITECTURE.md](../ARCHITECTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [Backend Entities](./backend.md) - –°—É—â–Ω–æ—Å—Ç–∏ Backend –º–æ–¥—É–ª—è
- [Bank Module](../modules/bank-module.md) - –û–ø–∏—Å–∞–Ω–∏–µ Bank Module
- [Development Guide](../guides/setup/development.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [PLAN.md](../PLAN.md) - –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

